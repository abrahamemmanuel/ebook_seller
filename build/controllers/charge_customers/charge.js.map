{"version":3,"sources":["../../../src/controllers/charge_customers/charge.js"],"names":["keys","require","stripe","stripeSecretKey","ChargeController","req","res","amount","customers","create","email","body","stripeEmail","source","stripeToken","then","customer","charges","description","currency","id","charge","render","ChargesController"],"mappings":";;;;;;;;;;;;;AAAA,IAAMA,IAAI,GAAGC,OAAO,CAAC,mBAAD,CAApB;;AACA,IAAMC,MAAM,GAAGD,OAAO,CAAC,QAAD,CAAP,CAAkBD,IAAI,CAACG,eAAvB,CAAf;;IAEMC,gB;;;;;;;;;oCACYC,G,EAAKC,G,EAAK;AACxB,UAAMC,MAAM,GAAG,IAAf;AAEAL,MAAAA,MAAM,CAACM,SAAP,CAAiBC,MAAjB,CAAwB;AACtBC,QAAAA,KAAK,EAAEL,GAAG,CAACM,IAAJ,CAASC,WADM;AAEtBC,QAAAA,MAAM,EAAER,GAAG,CAACM,IAAJ,CAASG;AAFK,OAAxB,EAIGC,IAJH,CAIQ,UAAAC,QAAQ;AAAA,eAAId,MAAM,CAACe,OAAP,CAAeR,MAAf,CAAsB;AACtCF,UAAAA,MAAM,EAANA,MADsC;AAEtCW,UAAAA,WAAW,EAAE,uBAFyB;AAGtCC,UAAAA,QAAQ,EAAE,KAH4B;AAItCH,UAAAA,QAAQ,EAAEA,QAAQ,CAACI;AAJmB,SAAtB,CAAJ;AAAA,OAJhB,EAUGL,IAVH,CAUQ,UAAAM,MAAM;AAAA,eAAIf,GAAG,CAACgB,MAAJ,CAAW,SAAX,CAAJ;AAAA,OAVd;AAWD;;;;;;AAIH,IAAMC,iBAAiB,GAAG,IAAInB,gBAAJ,EAA1B;eAEemB,iB","sourcesContent":["const keys = require('../../config/keys');\r\nconst stripe = require('stripe')(keys.stripeSecretKey);\r\n\r\nclass ChargeController {\r\n  chargeCustomers(req, res) {\r\n    const amount = 2500;\r\n\r\n    stripe.customers.create({\r\n      email: req.body.stripeEmail,\r\n      source: req.body.stripeToken,\r\n    })\r\n      .then(customer => stripe.charges.create({\r\n        amount,\r\n        description: 'Web Development Ebook',\r\n        currency: 'usd',\r\n        customer: customer.id,\r\n      }))\r\n      .then(charge => res.render('success'));\r\n  }\r\n\r\n}\r\n\r\nconst ChargesController = new ChargeController();\r\n\r\nexport default ChargesController;\r\n"],"file":"charge.js"}